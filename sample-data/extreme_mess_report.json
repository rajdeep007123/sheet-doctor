{
  "file_overview": {
    "file": "extreme_mess.csv",
    "rows": 46,
    "columns": 8,
    "format": "csv",
    "encoding": "MacRoman",
    "scanned_at": "2026-02-28T15:21:48"
  },
  "health_score": {
    "score": 32,
    "label": "Poor â€” major surgery required",
    "deductions": {
      "encoding": 10,
      "structural": 30,
      "date_chaos": 5,
      "missing_data": 3,
      "duplicates": 10,
      "data_quality": 10
    },
    "metrics": {
      "overall_null_percentage": 11.14,
      "encoding_issue_count": 2,
      "structural_issue_count": 3,
      "date_columns_affected": 1,
      "semantic_issue_types": 5
    }
  },
  "issues": {
    "critical": [
      {
        "severity": "critical",
        "plain_english": "Some rows have too many or too few columns, which will break imports and shift values into the wrong fields.",
        "columns": [
          "row structure"
        ],
        "rows_affected": 8,
        "auto_fixable": true
      },
      {
        "severity": "critical",
        "plain_english": "The header row appears again inside the data, which will be treated as a broken data row during import.",
        "columns": [
          "row structure"
        ],
        "rows_affected": 1,
        "auto_fixable": true
      }
    ],
    "warning": [
      {
        "severity": "warning",
        "plain_english": "The file uses MacRoman instead of UTF-8, so some systems may misread special characters.",
        "columns": [
          "file-wide"
        ],
        "rows_affected": 46,
        "auto_fixable": true
      },
      {
        "severity": "warning",
        "plain_english": "The Employee Name column uses inconsistent capitalisation, which can split what should be one category into several versions.",
        "columns": [
          "Employee Name"
        ],
        "rows_affected": 44,
        "auto_fixable": true
      },
      {
        "severity": "warning",
        "plain_english": "The Date column mixes multiple date formats, so the same date may be interpreted differently by different tools.",
        "columns": [
          "Date"
        ],
        "rows_affected": 42,
        "auto_fixable": true
      },
      {
        "severity": "warning",
        "plain_english": "The Department column uses inconsistent capitalisation, which can split what should be one category into several versions.",
        "columns": [
          "Department"
        ],
        "rows_affected": 42,
        "auto_fixable": false
      },
      {
        "severity": "warning",
        "plain_english": "The Department column appears to contain near-duplicate values that differ only slightly, such as spacing or casing changes.",
        "columns": [
          "Department"
        ],
        "rows_affected": 42,
        "auto_fixable": false
      },
      {
        "severity": "warning",
        "plain_english": "The Currency column uses inconsistent capitalisation, which can split what should be one category into several versions.",
        "columns": [
          "Currency"
        ],
        "rows_affected": 41,
        "auto_fixable": true
      },
      {
        "severity": "warning",
        "plain_english": "The Currency column appears to contain near-duplicate values that differ only slightly, such as spacing or casing changes.",
        "columns": [
          "Currency"
        ],
        "rows_affected": 41,
        "auto_fixable": false
      },
      {
        "severity": "warning",
        "plain_english": "The Amount column appears to contain near-duplicate values that differ only slightly, such as spacing or casing changes.",
        "columns": [
          "Amount"
        ],
        "rows_affected": 40,
        "auto_fixable": false
      },
      {
        "severity": "warning",
        "plain_english": "The Status column uses inconsistent capitalisation, which can split what should be one category into several versions.",
        "columns": [
          "Status"
        ],
        "rows_affected": 39,
        "auto_fixable": true
      },
      {
        "severity": "warning",
        "plain_english": "The Status column appears to contain near-duplicate values that differ only slightly, such as spacing or casing changes.",
        "columns": [
          "Status"
        ],
        "rows_affected": 39,
        "auto_fixable": false
      },
      {
        "severity": "warning",
        "plain_english": "Some characters look corrupted, which may change names, notes, or other text values.",
        "columns": [
          "file-wide"
        ],
        "rows_affected": 3,
        "auto_fixable": true
      },
      {
        "severity": "warning",
        "plain_english": "Completely blank rows are mixed into the file and can interfere with import counts and analysis.",
        "columns": [
          "row structure"
        ],
        "rows_affected": 2,
        "auto_fixable": true
      },
      {
        "severity": "warning",
        "plain_english": "The Amount column contains outlier values that look unusually large or small compared with the rest of the file.",
        "columns": [
          "Amount"
        ],
        "rows_affected": 1,
        "auto_fixable": false
      }
    ],
    "info": [
      {
        "severity": "info",
        "plain_english": "The Employee Name column appears to contain personally identifiable information that may need extra care before sharing.",
        "columns": [
          "Employee Name"
        ],
        "rows_affected": 44,
        "auto_fixable": false
      }
    ]
  },
  "column_breakdown": [
    {
      "column": "Employee Name",
      "detected_type": "name",
      "null_percentage": 4.35,
      "top_issues": [
        "Inconsistent capitalisation",
        "Possible PII detected (emails/phones/names)"
      ]
    },
    {
      "column": "Department",
      "detected_type": "categorical",
      "null_percentage": 8.7,
      "top_issues": [
        "Inconsistent capitalisation",
        "Possible duplicates with slight differences"
      ]
    },
    {
      "column": "Date",
      "detected_type": "date",
      "null_percentage": 8.7,
      "top_issues": [
        "Mixed date formats detected",
        "Inconsistent capitalisation"
      ]
    },
    {
      "column": "Amount",
      "detected_type": "currency/amount",
      "null_percentage": 13.04,
      "top_issues": [
        "Possible duplicates with slight differences",
        "Outliers detected (values outside 3 standard deviations)"
      ]
    },
    {
      "column": "Currency",
      "detected_type": "currency code",
      "null_percentage": 10.87,
      "top_issues": [
        "Inconsistent capitalisation",
        "Possible duplicates with slight differences"
      ]
    },
    {
      "column": "Category",
      "detected_type": "categorical",
      "null_percentage": 13.04,
      "top_issues": [
        "No major issues detected"
      ]
    },
    {
      "column": "Status",
      "detected_type": "categorical",
      "null_percentage": 15.22,
      "top_issues": [
        "Inconsistent capitalisation",
        "Possible duplicates with slight differences"
      ]
    },
    {
      "column": "Notes",
      "detected_type": "free text",
      "null_percentage": 15.22,
      "top_issues": [
        "No major issues detected"
      ]
    }
  ],
  "recommended_actions": [
    "Repair 8 structurally broken row(s) with missing or extra columns (auto-fixable)",
    "Remove or quarantine 3 structural row(s) such as blank lines or repeated headers (auto-fixable)",
    "Normalize mixed date formats in Date (4 formats across about 42 populated row(s)) (auto-fixable)",
    "Review near-duplicate values in Department, Amount, Currency, Status to decide which versions should be merged or kept",
    "Manually check outlier values in Amount before trusting totals or downstream analysis",
    "Re-decode and normalise text values from MacRoman encoding so names and notes are readable everywhere (auto-fixable)"
  ],
  "assumptions": [
    "Rows that still contain Excel formulas as text (for example '=SUM(...)') are quarantined because they are not stable data values",
    "Ambiguous DD/MM vs MM/DD dates: day-first assumed; fallback to month-first if day-first is impossible",
    "MM-DD-YY two-digit years: treated as 2000â€“2049 for YY < 50, 1950â€“1999 for YY â‰¥ 50",
    "Unix timestamps: interpreted as UTC; converted to YYYY-MM-DD",
    "Excel serial dates: Windows epoch (1899-12-30); range 40,000â€“55,000 treated as dates",
    "European decimal 1.200,00: detected when period precedes comma; converted to 1200.00",
    "Combined values like '$1,200 USD' are split so Amount keeps the numeric value and Currency keeps the ISO code",
    "Blank / N/A / TBD amounts: cleared to empty string and flagged needs_review=TRUE",
    "\"INR â‚¹\" and similar symbol+code combos: symbol stripped, ISO code kept",
    "\"Eng\" department abbreviation: kept as-is (expanding abbreviations requires a lookup table)",
    "Short blank runs in categorical columns are forward-filled when they look like merged-cell export gaps; filled rows are flagged for review",
    "Rows with long single-cell prose are treated as notes/metadata rather than transactional data",
    "Rows labelled TOTAL/Subtotal/SUM are quarantined when the amount matches the running total closely enough to look calculated",
    "Near-duplicate rows (same Name/Amount/Currency/Category, date within 2 days): both kept, both flagged",
    "Exact duplicates: first occurrence kept; subsequent occurrences removed and logged",
    "Short rows (< 8 columns): padded with empty strings; flagged needs_review=TRUE",
    "Metadata export row (sparse, 1/8 fields filled): quarantined as 'Less than 50% columns filled'"
  ],
  "pii_warning": "âš ï¸ This file appears to contain PII. Handle according to your data protection policy.",
  "source_reports": {
    "diagnose": {
      "file": "extreme_mess.csv",
      "total_rows": 52,
      "dialect": {
        "delimiter": ","
      },
      "encoding": {
        "detected": "MacRoman",
        "confidence": 0.69,
        "is_utf8": false,
        "suspicious_chars": [
          "row 5: byte b'\\xe9' at position 73",
          "row 9: byte b'\\xed' at position 11",
          "row 18: byte b'\\xe9' at position 1"
        ]
      },
      "column_count": {
        "expected": 8,
        "misaligned_rows": [
          {
            "row": 10,
            "count": 9
          },
          {
            "row": 12,
            "count": 9
          },
          {
            "row": 22,
            "count": 9
          },
          {
            "row": 45,
            "count": 9
          },
          {
            "row": 48,
            "count": 9
          },
          {
            "row": 50,
            "count": 6
          },
          {
            "row": 51,
            "count": 5
          },
          {
            "row": 52,
            "count": 4
          }
        ]
      },
      "date_formats": {
        "Date": {
          "formats_found": [
            "DD/MM/YYYY or MM/DD/YYYY",
            "Month D, YYYY",
            "YYYY-MM-DD",
            "DD-MM-YY or MM-DD-YY"
          ],
          "examples": {
            "DD/MM/YYYY or MM/DD/YYYY": "15/03/2023",
            "Month D, YYYY": "March 15 2023",
            "YYYY-MM-DD": "2023-03-20",
            "DD-MM-YY or MM-DD-YY": "08-15-23"
          }
        }
      },
      "empty_rows": {
        "count": 2,
        "rows": [
          7,
          14
        ]
      },
      "duplicate_headers": {
        "duplicate_columns": [],
        "repeated_header_rows": [
          17
        ]
      },
      "whitespace_headers": [],
      "column_quality": {
        "empty_columns": [],
        "single_value_columns": {}
      },
      "column_semantics": {
        "columns": {
          "Employee Name": {
            "detected_type": "name",
            "type_scores": {
              "name": 84.09,
              "free text": 15.91
            },
            "null_count": 2,
            "null_percentage": 4.35,
            "unique_count": 39,
            "unique_percentage": 88.64,
            "most_common_values": [
              {
                "value": "Sarah Mitchell",
                "count": 3
              },
              {
                "value": "James Rodriguez",
                "count": 3
              },
              {
                "value": "Jessica Brown",
                "count": 2
              },
              {
                "value": "EXPENSE REPORT FY2023 -- Export: 2023-12-31 | HR System Pro v4.2",
                "count": 1
              },
              {
                "value": "Sophie Bernard",
                "count": 1
              }
            ],
            "min_value": null,
            "max_value": null,
            "sample_values": [
              "Lisa Thompson",
              "Sarah Mitchell",
              "Rachel Green"
            ],
            "has_mixed_types": false,
            "suspected_issues": [
              "Inconsistent capitalisation",
              "Possible PII detected (emails/phones/names)"
            ]
          },
          "Department": {
            "detected_type": "categorical",
            "type_scores": {
              "country name or code": 7.14,
              "free text": 92.86
            },
            "null_count": 4,
            "null_percentage": 8.7,
            "unique_count": 11,
            "unique_percentage": 26.19,
            "most_common_values": [
              {
                "value": "Marketing",
                "count": 8
              },
              {
                "value": "Engineering",
                "count": 7
              },
              {
                "value": "Finance",
                "count": 6
              },
              {
                "value": "Sales",
                "count": 6
              },
              {
                "value": "HR",
                "count": 4
              }
            ],
            "min_value": null,
            "max_value": null,
            "sample_values": [
              "engineering dept",
              "Engineering",
              "Marketing"
            ],
            "has_mixed_types": false,
            "suspected_issues": [
              "Inconsistent capitalisation",
              "Possible duplicates with slight differences"
            ]
          },
          "Date": {
            "detected_type": "date",
            "type_scores": {
              "date": 90.48,
              "plain number": 4.76,
              "phone number": 2.38,
              "free text": 2.38
            },
            "null_count": 4,
            "null_percentage": 8.7,
            "unique_count": 38,
            "unique_percentage": 90.48,
            "most_common_values": [
              {
                "value": "15/03/2023",
                "count": 3
              },
              {
                "value": "2023-01-18T00:00:00Z",
                "count": 3
              },
              {
                "value": "20/04/2023",
                "count": 1
              },
              {
                "value": "22/11/2023",
                "count": 1
              },
              {
                "value": "March 15 2023",
                "count": 1
              }
            ],
            "min_value": "2023-01-05",
            "max_value": "2023-12-28",
            "sample_values": [
              "2023-03-20",
              "2023-01-18T00:00:00Z",
              "44910"
            ],
            "has_mixed_types": false,
            "suspected_issues": [
              "Mixed date formats detected",
              "Inconsistent capitalisation"
            ]
          },
          "Amount": {
            "detected_type": "currency/amount",
            "type_scores": {
              "date": 5.0,
              "currency/amount": 10.0,
              "plain number": 80.0,
              "phone number": 2.5,
              "free text": 2.5
            },
            "null_count": 6,
            "null_percentage": 13.04,
            "unique_count": 28,
            "unique_percentage": 70.0,
            "most_common_values": [
              {
                "value": "450.00",
                "count": 5
              },
              {
                "value": "$1,200.00",
                "count": 3
              },
              {
                "value": "567.00",
                "count": 3
              },
              {
                "value": "89.50",
                "count": 2
              },
              {
                "value": "234.00",
                "count": 2
              }
            ],
            "min_value": -500.0,
            "max_value": 45234.5,
            "sample_values": [
              "89.00",
              "567.00",
              "$1,200.00"
            ],
            "has_mixed_types": false,
            "suspected_issues": [
              "Possible duplicates with slight differences",
              "Outliers detected (values outside 3 standard deviations)"
            ]
          },
          "Currency": {
            "detected_type": "currency code",
            "type_scores": {
              "currency code": 87.8,
              "name": 2.44,
              "free text": 9.76
            },
            "null_count": 5,
            "null_percentage": 10.87,
            "unique_count": 8,
            "unique_percentage": 19.51,
            "most_common_values": [
              {
                "value": "USD",
                "count": 30
              },
              {
                "value": "usd",
                "count": 3
              },
              {
                "value": "EUR",
                "count": 3
              },
              {
                "value": "US Dollar",
                "count": 1
              },
              {
                "value": "INR â‚¹",
                "count": 1
              }
            ],
            "min_value": null,
            "max_value": null,
            "sample_values": [
              "usd",
              "USD",
              "$"
            ],
            "has_mixed_types": false,
            "suspected_issues": [
              "Inconsistent capitalisation",
              "Possible duplicates with slight differences"
            ]
          },
          "Category": {
            "detected_type": "categorical",
            "type_scores": {
              "name": 5.0,
              "free text": 95.0
            },
            "null_count": 6,
            "null_percentage": 13.04,
            "unique_count": 8,
            "unique_percentage": 20.0,
            "most_common_values": [
              {
                "value": "Travel",
                "count": 13
              },
              {
                "value": "Training",
                "count": 6
              },
              {
                "value": "Software",
                "count": 5
              },
              {
                "value": "Entertainment",
                "count": 5
              },
              {
                "value": "Meals",
                "count": 4
              }
            ],
            "min_value": null,
            "max_value": null,
            "sample_values": [
              "Software",
              "Travel",
              "Equipment"
            ],
            "has_mixed_types": false,
            "suspected_issues": []
          },
          "Status": {
            "detected_type": "categorical",
            "type_scores": {
              "name": 5.13,
              "free text": 15.38,
              "boolean": 79.49
            },
            "null_count": 7,
            "null_percentage": 15.22,
            "unique_count": 10,
            "unique_percentage": 25.64,
            "most_common_values": [
              {
                "value": "Approved",
                "count": 12
              },
              {
                "value": "approved",
                "count": 12
              },
              {
                "value": "APPROVED",
                "count": 3
              },
              {
                "value": "pending",
                "count": 3
              },
              {
                "value": "Pending",
                "count": 2
              }
            ],
            "min_value": null,
            "max_value": null,
            "sample_values": [
              "approved",
              "Approved",
              "rejected"
            ],
            "has_mixed_types": false,
            "suspected_issues": [
              "Inconsistent capitalisation",
              "Possible duplicates with slight differences"
            ]
          },
          "Notes": {
            "detected_type": "free text",
            "type_scores": {
              "free text": 100.0
            },
            "null_count": 7,
            "null_percentage": 15.22,
            "unique_count": 33,
            "unique_percentage": 84.62,
            "most_common_values": [
              {
                "value": "Flight to NYC for client meeting",
                "count": 3
              },
              {
                "value": "Annual license renewal",
                "count": 3
              },
              {
                "value": "Train to Boston quarterly review",
                "count": 2
              },
              {
                "value": "Keyboard and mouse",
                "count": 2
              },
              {
                "value": "Lunch at cafÃˆ Rouge - team outing",
                "count": 1
              }
            ],
            "min_value": null,
            "max_value": null,
            "sample_values": [
              "Mumbai to Delhi flight",
              "Annual license renewal",
              "Overpayment reversal"
            ],
            "has_mixed_types": false,
            "suspected_issues": []
          }
        },
        "summary": {
          "total_rows": 46,
          "total_columns": 8,
          "detected_types": {
            "categorical": 3,
            "currency code": 1,
            "currency/amount": 1,
            "date": 1,
            "free text": 1,
            "name": 1
          },
          "issue_counts": {
            "Inconsistent capitalisation": 5,
            "Mixed date formats detected": 1,
            "Outliers detected (values outside 3 standard deviations)": 1,
            "Possible PII detected (emails/phones/names)": 1,
            "Possible duplicates with slight differences": 4
          }
        }
      },
      "summary": {
        "verdict": "CRITICAL",
        "issue_count": 7
      }
    },
    "column_detector": {
      "file": "sample-data/extreme_mess.csv",
      "detected_format": "csv",
      "detected_encoding": "MacRoman",
      "delimiter": ",",
      "original_rows": 47,
      "original_columns": 8,
      "warnings": [],
      "columns": {
        "Employee Name": {
          "detected_type": "name",
          "type_scores": {
            "name": 84.09,
            "free text": 15.91
          },
          "null_count": 2,
          "null_percentage": 4.35,
          "unique_count": 39,
          "unique_percentage": 88.64,
          "most_common_values": [
            {
              "value": "Sarah Mitchell",
              "count": 3
            },
            {
              "value": "James Rodriguez",
              "count": 3
            },
            {
              "value": "Jessica Brown",
              "count": 2
            },
            {
              "value": "EXPENSE REPORT FY2023 -- Export: 2023-12-31 | HR System Pro v4.2",
              "count": 1
            },
            {
              "value": "Sophie Bernard",
              "count": 1
            }
          ],
          "min_value": null,
          "max_value": null,
          "sample_values": [
            "Lisa Thompson",
            "Sarah Mitchell",
            "Rachel Green"
          ],
          "has_mixed_types": false,
          "suspected_issues": [
            "Inconsistent capitalisation",
            "Possible PII detected (emails/phones/names)"
          ]
        },
        "Department": {
          "detected_type": "categorical",
          "type_scores": {
            "country name or code": 7.14,
            "free text": 92.86
          },
          "null_count": 4,
          "null_percentage": 8.7,
          "unique_count": 11,
          "unique_percentage": 26.19,
          "most_common_values": [
            {
              "value": "Marketing",
              "count": 8
            },
            {
              "value": "Engineering",
              "count": 7
            },
            {
              "value": "Finance",
              "count": 6
            },
            {
              "value": "Sales",
              "count": 6
            },
            {
              "value": "HR",
              "count": 4
            }
          ],
          "min_value": null,
          "max_value": null,
          "sample_values": [
            "engineering dept",
            "Engineering",
            "Marketing"
          ],
          "has_mixed_types": false,
          "suspected_issues": [
            "Inconsistent capitalisation",
            "Possible duplicates with slight differences"
          ]
        },
        "Date": {
          "detected_type": "date",
          "type_scores": {
            "date": 90.48,
            "plain number": 4.76,
            "phone number": 2.38,
            "free text": 2.38
          },
          "null_count": 4,
          "null_percentage": 8.7,
          "unique_count": 38,
          "unique_percentage": 90.48,
          "most_common_values": [
            {
              "value": "15/03/2023",
              "count": 3
            },
            {
              "value": "2023-01-18T00:00:00Z",
              "count": 3
            },
            {
              "value": "20/04/2023",
              "count": 1
            },
            {
              "value": "22/11/2023",
              "count": 1
            },
            {
              "value": "March 15 2023",
              "count": 1
            }
          ],
          "min_value": "2023-01-05",
          "max_value": "2023-12-28",
          "sample_values": [
            "2023-03-20",
            "2023-01-18T00:00:00Z",
            "44910"
          ],
          "has_mixed_types": false,
          "suspected_issues": [
            "Mixed date formats detected",
            "Inconsistent capitalisation"
          ]
        },
        "Amount": {
          "detected_type": "currency/amount",
          "type_scores": {
            "date": 5.0,
            "currency/amount": 10.0,
            "plain number": 80.0,
            "phone number": 2.5,
            "free text": 2.5
          },
          "null_count": 6,
          "null_percentage": 13.04,
          "unique_count": 28,
          "unique_percentage": 70.0,
          "most_common_values": [
            {
              "value": "450.00",
              "count": 5
            },
            {
              "value": "$1,200.00",
              "count": 3
            },
            {
              "value": "567.00",
              "count": 3
            },
            {
              "value": "89.50",
              "count": 2
            },
            {
              "value": "234.00",
              "count": 2
            }
          ],
          "min_value": -500.0,
          "max_value": 45234.5,
          "sample_values": [
            "89.00",
            "567.00",
            "$1,200.00"
          ],
          "has_mixed_types": false,
          "suspected_issues": [
            "Possible duplicates with slight differences",
            "Outliers detected (values outside 3 standard deviations)"
          ]
        },
        "Currency": {
          "detected_type": "currency code",
          "type_scores": {
            "currency code": 87.8,
            "name": 2.44,
            "free text": 9.76
          },
          "null_count": 5,
          "null_percentage": 10.87,
          "unique_count": 8,
          "unique_percentage": 19.51,
          "most_common_values": [
            {
              "value": "USD",
              "count": 30
            },
            {
              "value": "usd",
              "count": 3
            },
            {
              "value": "EUR",
              "count": 3
            },
            {
              "value": "US Dollar",
              "count": 1
            },
            {
              "value": "INR â‚¹",
              "count": 1
            }
          ],
          "min_value": null,
          "max_value": null,
          "sample_values": [
            "usd",
            "USD",
            "$"
          ],
          "has_mixed_types": false,
          "suspected_issues": [
            "Inconsistent capitalisation",
            "Possible duplicates with slight differences"
          ]
        },
        "Category": {
          "detected_type": "categorical",
          "type_scores": {
            "name": 5.0,
            "free text": 95.0
          },
          "null_count": 6,
          "null_percentage": 13.04,
          "unique_count": 8,
          "unique_percentage": 20.0,
          "most_common_values": [
            {
              "value": "Travel",
              "count": 13
            },
            {
              "value": "Training",
              "count": 6
            },
            {
              "value": "Software",
              "count": 5
            },
            {
              "value": "Entertainment",
              "count": 5
            },
            {
              "value": "Meals",
              "count": 4
            }
          ],
          "min_value": null,
          "max_value": null,
          "sample_values": [
            "Software",
            "Travel",
            "Equipment"
          ],
          "has_mixed_types": false,
          "suspected_issues": []
        },
        "Status": {
          "detected_type": "categorical",
          "type_scores": {
            "name": 5.13,
            "free text": 15.38,
            "boolean": 79.49
          },
          "null_count": 7,
          "null_percentage": 15.22,
          "unique_count": 10,
          "unique_percentage": 25.64,
          "most_common_values": [
            {
              "value": "Approved",
              "count": 12
            },
            {
              "value": "approved",
              "count": 12
            },
            {
              "value": "APPROVED",
              "count": 3
            },
            {
              "value": "pending",
              "count": 3
            },
            {
              "value": "Pending",
              "count": 2
            }
          ],
          "min_value": null,
          "max_value": null,
          "sample_values": [
            "approved",
            "Approved",
            "rejected"
          ],
          "has_mixed_types": false,
          "suspected_issues": [
            "Inconsistent capitalisation",
            "Possible duplicates with slight differences"
          ]
        },
        "Notes": {
          "detected_type": "free text",
          "type_scores": {
            "free text": 100.0
          },
          "null_count": 7,
          "null_percentage": 15.22,
          "unique_count": 33,
          "unique_percentage": 84.62,
          "most_common_values": [
            {
              "value": "Flight to NYC for client meeting",
              "count": 3
            },
            {
              "value": "Annual license renewal",
              "count": 3
            },
            {
              "value": "Train to Boston quarterly review",
              "count": 2
            },
            {
              "value": "Keyboard and mouse",
              "count": 2
            },
            {
              "value": "Lunch at cafÃˆ Rouge - team outing",
              "count": 1
            }
          ],
          "min_value": null,
          "max_value": null,
          "sample_values": [
            "Mumbai to Delhi flight",
            "Annual license renewal",
            "Overpayment reversal"
          ],
          "has_mixed_types": false,
          "suspected_issues": []
        }
      },
      "summary": {
        "total_rows": 46,
        "total_columns": 8,
        "detected_types": {
          "categorical": 3,
          "currency code": 1,
          "currency/amount": 1,
          "date": 1,
          "free text": 1,
          "name": 1
        },
        "issue_counts": {
          "Inconsistent capitalisation": 5,
          "Mixed date formats detected": 1,
          "Outliers detected (values outside 3 standard deviations)": 1,
          "Possible PII detected (emails/phones/names)": 1,
          "Possible duplicates with slight differences": 4
        }
      }
    }
  },
  "text_report": "SECTION 1 â€” FILE OVERVIEW\nðŸ“„ File: extreme_mess.csv\nðŸ“Š Size: 46 rows Ã— 8 columns\nðŸ’¾ Format: csv\nðŸ”¤ Encoding: MacRoman\nâ±  Scanned: 2026-02-28T15:21:48\n\nSECTION 2 â€” HEALTH SCORE\nðŸ©º Health Score: 32/100 (Poor â€” major surgery required)\n  â€¢ Encoding problems: -10\n  â€¢ Structural problems: -30\n  â€¢ Date chaos: -5\n  â€¢ Missing data: -3\n  â€¢ Duplicates: -10\n  â€¢ Data quality issues: -10\n\nâš ï¸ This file appears to contain PII. Handle according to your data protection policy.\n\nSECTION 3 â€” ISSUES FOUND\nðŸš¨ Critical (will break imports)\n- Some rows have too many or too few columns, which will break imports and shift values into the wrong fields.\n  Columns: row structure\n  Rows affected: 8\n  Auto-fixable: âœ…\n- The header row appears again inside the data, which will be treated as a broken data row during import.\n  Columns: row structure\n  Rows affected: 1\n  Auto-fixable: âœ…\n\nâš ï¸  Warning (will cause analysis errors)\n- The file uses MacRoman instead of UTF-8, so some systems may misread special characters.\n  Columns: file-wide\n  Rows affected: 46\n  Auto-fixable: âœ…\n- The Employee Name column uses inconsistent capitalisation, which can split what should be one category into several versions.\n  Columns: Employee Name\n  Rows affected: 44\n  Auto-fixable: âœ…\n- The Date column mixes multiple date formats, so the same date may be interpreted differently by different tools.\n  Columns: Date\n  Rows affected: 42\n  Auto-fixable: âœ…\n- The Department column uses inconsistent capitalisation, which can split what should be one category into several versions.\n  Columns: Department\n  Rows affected: 42\n  Auto-fixable: âŒ\n- The Department column appears to contain near-duplicate values that differ only slightly, such as spacing or casing changes.\n  Columns: Department\n  Rows affected: 42\n  Auto-fixable: âŒ\n- The Currency column uses inconsistent capitalisation, which can split what should be one category into several versions.\n  Columns: Currency\n  Rows affected: 41\n  Auto-fixable: âœ…\n- The Currency column appears to contain near-duplicate values that differ only slightly, such as spacing or casing changes.\n  Columns: Currency\n  Rows affected: 41\n  Auto-fixable: âŒ\n- The Amount column appears to contain near-duplicate values that differ only slightly, such as spacing or casing changes.\n  Columns: Amount\n  Rows affected: 40\n  Auto-fixable: âŒ\n- The Status column uses inconsistent capitalisation, which can split what should be one category into several versions.\n  Columns: Status\n  Rows affected: 39\n  Auto-fixable: âœ…\n- The Status column appears to contain near-duplicate values that differ only slightly, such as spacing or casing changes.\n  Columns: Status\n  Rows affected: 39\n  Auto-fixable: âŒ\n- Some characters look corrupted, which may change names, notes, or other text values.\n  Columns: file-wide\n  Rows affected: 3\n  Auto-fixable: âœ…\n- Completely blank rows are mixed into the file and can interfere with import counts and analysis.\n  Columns: row structure\n  Rows affected: 2\n  Auto-fixable: âœ…\n- The Amount column contains outlier values that look unusually large or small compared with the rest of the file.\n  Columns: Amount\n  Rows affected: 1\n  Auto-fixable: âŒ\n\nâ„¹ï¸  Info (cosmetic, worth fixing)\n- The Employee Name column appears to contain personally identifiable information that may need extra care before sharing.\n  Columns: Employee Name\n  Rows affected: 44\n  Auto-fixable: âŒ\n\nSECTION 4 â€” COLUMN BREAKDOWN\nEmployee Name | name | 4.35% null | Inconsistent capitalisation; Possible PII detected (emails/phones/names)\nDepartment | categorical | 8.7% null | Inconsistent capitalisation; Possible duplicates with slight differences\nDate | date | 8.7% null | Mixed date formats detected; Inconsistent capitalisation\nAmount | currency/amount | 13.04% null | Possible duplicates with slight differences; Outliers detected (values outside 3 standard deviations)\nCurrency | currency code | 10.87% null | Inconsistent capitalisation; Possible duplicates with slight differences\nCategory | categorical | 13.04% null | No major issues detected\nStatus | categorical | 15.22% null | Inconsistent capitalisation; Possible duplicates with slight differences\nNotes | free text | 15.22% null | No major issues detected\n\nSECTION 5 â€” RECOMMENDED ACTIONS\n1. Repair 8 structurally broken row(s) with missing or extra columns (auto-fixable)\n2. Remove or quarantine 3 structural row(s) such as blank lines or repeated headers (auto-fixable)\n3. Normalize mixed date formats in Date (4 formats across about 42 populated row(s)) (auto-fixable)\n4. Review near-duplicate values in Department, Amount, Currency, Status to decide which versions should be merged or kept\n5. Manually check outlier values in Amount before trusting totals or downstream analysis\n6. Re-decode and normalise text values from MacRoman encoding so names and notes are readable everywhere (auto-fixable)\n\nSECTION 6 â€” ASSUMPTIONS\nâ€¢ Rows that still contain Excel formulas as text (for example '=SUM(...)') are quarantined because they are not stable data values\nâ€¢ Ambiguous DD/MM vs MM/DD dates: day-first assumed; fallback to month-first if day-first is impossible\nâ€¢ MM-DD-YY two-digit years: treated as 2000â€“2049 for YY < 50, 1950â€“1999 for YY â‰¥ 50\nâ€¢ Unix timestamps: interpreted as UTC; converted to YYYY-MM-DD\nâ€¢ Excel serial dates: Windows epoch (1899-12-30); range 40,000â€“55,000 treated as dates\nâ€¢ European decimal 1.200,00: detected when period precedes comma; converted to 1200.00\nâ€¢ Combined values like '$1,200 USD' are split so Amount keeps the numeric value and Currency keeps the ISO code\nâ€¢ Blank / N/A / TBD amounts: cleared to empty string and flagged needs_review=TRUE\nâ€¢ \"INR â‚¹\" and similar symbol+code combos: symbol stripped, ISO code kept\nâ€¢ \"Eng\" department abbreviation: kept as-is (expanding abbreviations requires a lookup table)\nâ€¢ Short blank runs in categorical columns are forward-filled when they look like merged-cell export gaps; filled rows are flagged for review\nâ€¢ Rows with long single-cell prose are treated as notes/metadata rather than transactional data\nâ€¢ Rows labelled TOTAL/Subtotal/SUM are quarantined when the amount matches the running total closely enough to look calculated\nâ€¢ Near-duplicate rows (same Name/Amount/Currency/Category, date within 2 days): both kept, both flagged\nâ€¢ Exact duplicates: first occurrence kept; subsequent occurrences removed and logged\nâ€¢ Short rows (< 8 columns): padded with empty strings; flagged needs_review=TRUE\nâ€¢ Metadata export row (sparse, 1/8 fields filled): quarantined as 'Less than 50% columns filled'\n"
}